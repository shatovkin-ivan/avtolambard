window.addEventListener("DOMContentLoaded",()=>{ymaps.ready((function(){const e=new ymaps.Map("map",{center:[52.72503154031792,41.441141447256086],zoom:17,controls:[]}),t=new ymaps.Placemark([52.72503154031792,41.441141447256086],{},{iconLayout:"default#image",iconImageHref:"img/placeholder.svg",iconImageSize:[50,68],iconImageOffset:[-25,-47]});e.geoObjects.add(t)}));const e=document.querySelector("#sum-slider");e&&noUiSlider.create(e,{start:[3e5],connect:"lower",range:{min:2e4,max:3e6},step:1e3});const t=document.querySelector("#time-slider");t&&noUiSlider.create(t,{start:[3],connect:"lower",range:{min:1,max:36},step:1});const n=document.querySelectorAll("input[type='tel']");for(selector of n){new Inputmask("+7 (999) 999-99-99").mask(selector)}const o=document.querySelector(".scroll-top");o.addEventListener("click",e=>{e.preventDefault(),$("html").animate({scrollTop:$("html").offset().top},500)}),window.addEventListener("scroll",()=>{const e=document.querySelector("#main"),t=document.querySelector(".header"),n=t.offsetHeight;window.pageYOffset>300?(t.classList.add("fixed"),e.style.paddingTop=n+"px",o.classList.add("active")):(t.classList.remove("fixed"),e.style.paddingTop="0px",o.classList.remove("active"))});const i=document.querySelectorAll(".open-modal"),c=document.querySelector(".overlay"),l=document.querySelector(".close"),r=document.querySelector("body");i&&i.forEach(e=>{e.addEventListener("click",()=>{c.classList.add("active"),r.style.overflow="hidden",r.style.paddingRight=function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}()+"px"}),l.addEventListener("click",()=>{m()}),c.addEventListener("click",e=>{e.target===c&&m()})});document.querySelectorAll(".questions__item-title").forEach(e=>{e.addEventListener("click",()=>{let t=e.nextElementSibling.querySelector(".questions__dropdown-content").offsetHeight;e.classList.contains("active")?(e.classList.remove("active"),e.nextElementSibling.style.maxHeight="0px"):(e.classList.add("active"),e.nextElementSibling.style.maxHeight=t+"px")})});const s=document.querySelector(".burger"),d=document.querySelector(".menu");function a(){let e=2*timeSliderValue/100;return sumSliderValue+sumSliderValue*e}function u(){return Math.round(a()/timeSliderValue)}function m(){c.classList.remove("active"),r.style.overflow="visible",r.style.paddingRight="0px"}s.addEventListener("click",()=>{s.classList.contains("active")?(s.classList.remove("active"),d.classList.remove("active")):(s.classList.add("active"),d.classList.add("active"))}),$(".anchor").on("click",(function(){var e=$(this).attr("href");return void 0!==e&&""!==e&&$("html").animate({scrollTop:$(e).offset().top},500),!1})),e&&e.noUiSlider.on("update",(function(t,n){return sumSliderValue=+e.noUiSlider.get()})),t&&t.noUiSlider.on("update",(function(e,n){return timeSliderValue=+t.noUiSlider.get()})),e&&t&&(e.noUiSlider.on("update",(function(e,t){document.querySelector("#sum").textContent=Math.round(e[t]),document.querySelector("#per-mounth").textContent=u(),document.querySelector("#total-sum").textContent=a()})),t.noUiSlider.on("update",(function(e,t){document.querySelector("#time").textContent=Math.round(e[t]),document.querySelector("#per-mounth").textContent=u(),document.querySelector("#total-sum").textContent=a()})))});